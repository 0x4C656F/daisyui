import{ai as m,U as r,a4 as p,a6 as o,l as c,aj as d,g as _,X as g,Y as v,ab as f,f as i,$ as b,m as y}from"./runtime.DHikSq-X.js";import{s as I}from"./index.r3SFlhMr.js";function j(){const n=p,e=n.l.u;e&&(e.b.length&&m(()=>{l(n),o(e.b)}),r(()=>{const t=c(()=>e.m.map(d));return()=>{for(const s of t)typeof s=="function"&&s()}}),e.a.length&&r(()=>{l(n),o(e.a)}))}function l(n){if(n.l.s)for(const e of n.l.s)_(e);g(n.s)}function w(n,e,t){let s=t[e];const u=s===void 0;u&&(s={store:null,last_value:null,value:y(f),unsubscribe:b},t[e]=s),(u||s.store!==n)&&(s.unsubscribe(),s.store=n??null,s.unsubscribe=h(n,s.value));const a=_(s.value);return a===f?s.last_value:a}function h(n,e){return n==null?(i(e,void 0),b):I(n,t=>i(e,t))}function x(n){k(()=>{let e;for(e in n)n[e].unsubscribe()})}function k(n){v(()=>()=>c(n))}export{j as i,w as s,x as u};
